<x-app-layout> <div class="py-8 bg-gray-50 min-h-screen"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <!-- Header --> <div class="mb-8"> <h1 class="text-3xl font-bold text-gray-900">Customer Management</h1> <p class="mt-2 text-sm text-gray-600">View and search customer information</p> </div> <!-- Search and Filters --> <div class="bg-white shadow-sm border border-gray-200 p-6 mb-6"> <form method="GET" action="{{ route('staff.customers.index') }}" class="space-y-4"> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"> <!-- Search --> <div class="md:col-span-2"> <label for="search" class="block text-sm font-medium text-gray-700 mb-2"> Search Customers </label> <div class="relative"> <input type="text" name="search" id="search" value="{{ $search }}" placeholder="Search by name, email, or phone..." class="w-full pl-10 pr-4 py-2 border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> <svg class="absolute left-3 top-2.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/> </svg> </div> </div> <!-- Status Filter --> <div> <label for="status" class="block text-sm font-medium text-gray-700 mb-2"> Buyer Status </label> <select name="status" id="status" class="w-full px-4 py-2 border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"> <option value="">All Customers</option> <option value="approved" {{ $status === 'approved' ? 'selected' : '' }}>Approved</option> <option value="pending" {{ $status === 'pending' ? 'selected' : '' }}>Pending Approval</option> </select> </div> </div> <div class="flex justify-end gap-3"> <a href="{{ route('staff.customers.index') }}" class="px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 font-medium transition"> Clear Filters </a> <button type="submit" class="px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium transition"> Search </button> </div> </form> </div> <!-- Results Summary --> <div class="mb-4 text-sm text-gray-600"> Showing {{ $customers->firstItem() ?? 0 }} to {{ $customers->lastItem() ?? 0 }} of {{ $customers->total() }} customers </div> <!-- Customers Table --> <div class="bg-white shadow-sm border border-gray-200 overflow-hidden"> <div class="overflow-x-auto"> <table class="min-w-full divide-y divide-gray-200"> <thead class="bg-gray-50"> <tr> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Customer </th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Contact </th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Buyer/Seller Status </th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Interests </th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Joined </th> <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> Actions </th> </tr> </thead> <tbody class="bg-white divide-y divide-gray-200"> @forelse($customers as $customer) <tr class="hover:bg-gray-50 transition"> <td class="px-6 py-4 whitespace-nowrap"> <div class="flex items-center"> <div class="flex-shrink-0 h-10 w-10 bg-primary-100 flex items-center justify-center"> <span class="text-primary-700 font-semibold text-sm"> {{ substr($customer->first_name, 0, 1) }}{{ substr($customer->surname, 0, 1) }} </span> </div> <div class="ml-4"> <div class="text-sm font-medium text-gray-900"> {{ $customer->full_name }} </div> <div class="text-sm text-gray-500"> ID: #{{ $customer->id }} </div> </div> </div> </td> <td class="px-6 py-4"> <div class="text-sm text-gray-900">{{ $customer->email }}</div> <div class="text-sm text-gray-500">{{ $customer->contact_telephone_number ?? 'No phone' }}</div> </td> <td class="px-6 py-4 whitespace-nowrap"> @if($customer->buyer_approved_status) <span class="inline-flex px-2 py-1 text-xs font-semibold bg-green-100 text-green-800"> Approved </span> @else <span class="inline-flex px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-800"> Pending </span> @endif </td> <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"> {{ $customer->interested_tags_count }} tags </td> <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> {{ $customer->created_at->format('M d, Y') }} </td> <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"> <a href="{{ route('staff.customers.show', $customer) }}" class="inline-flex items-center px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white transition"> <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/> </svg> View </a> </td> </tr> @empty <tr> <td colspan="6" class="px-6 py-12 text-center"> <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/> </svg> <p class="mt-4 text-sm text-gray-500">No customers found</p> </td> </tr> @endforelse </tbody> </table> </div> <!-- Pagination --> @if($customers->hasPages()) <div class="bg-gray-50 px-6 py-4 border-t border-gray-200"> {{ $customers->links() }} </div> @endif </div> </div> </div>
</x-app-layout>